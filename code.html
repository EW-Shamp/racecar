<!doctype html>
<html lang="en" class="h-100">

<head>
    <title>RACECAR: A Coding Project by Eric Shamp</title>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU" crossorigin="anonymous">
    <link href="/css/site.css" rel="stylesheet">
    <!-- Fontawesome for icons -->
    <script src="https://kit.fontawesome.com/5db21ba9c6.js" crossorigin="anonymous"></script>
    <!-- Favicon linking -->
    <link rel="icon" type="image/png" href="/favicon-16x16.png">
    <link href="/css/prism.css" rel="stylesheet">
</head>

    <body class="d-flex flex-column h-100">
        <!-- Nav Section -->
        <nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark">
            <div class="container-fluid">
                <a class="navbar-brand" href="#"><img src="/img/logo-mark-white.svg" class="d-inline-block align-text-top"
                     alt="Eric Shamp Logo" height="24"> RACECAR</a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse"
                    aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarCollapse">
                    <ul class="navbar-nav me-auto mb-2 mb-md-0">
                        <li class="nav-item">
                            <a class="nav-link" href="index.html">Home</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/app.html">The App</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link active" aria-current="page" href="/code.html">The Code</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" target="_blank" href="https://www.github.com/EW-Shamp/racecar">Git Repo</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" target="_blank" href="https://ericshamp.us">About</a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
        <!-- Main Section -->
        <main class="flex-shrink-0">
            <div class="container py-5 px-5 mt-5">
                <h2 class="border-1 border-bottom border-dark">The Code</h2>
                <div class="row row-cols-1 row-cols-lg-2 ">
                    <div class="col-lg-8">
                        <pre class="line-numbers">
                            <code class="language-javascript">
                                //get phrase
                                //controller function
                                function getPhrase() {
                                    let phrase = document.getElementById("phrase").value;
                                    document.getElementById("alert").classList.add("invisible");

                                    //call render fucntion and passes phrase
                                    //then stores returned string in revPhrase
                                    let returnObj = renderPhrase(phrase);
                                    displayPhrase(returnObj);
                                }

                                //render and compare phrase
                                //logic function(s)
                                function renderPhrase(phrase) {
                                    let newPhrase = "";
                                    let returnObj = {}
                                
                                    //convert case for comparision in logic function
                                    phrase = phrase.toLowerCase();
                                
                                    //removes spaces and special characters
                                    let regex = /[^a-z0-9]/gi;
                                    phrase = phrase.replace(regex,"");
                                
                                    //iterates through phrase and adds characters to
                                    //newPhrase from last chacter to first
                                    for (let i = phrase.length - 1; i >= 0; i--) {
                                        newPhrase += phrase[i];
                                    }

                                    //checks if phrase is identical to newPhrase
                                    if (newPhrase === phrase) {
                                        returnObj.message = "Congrats your phrase is a palindrome";
                                    } else {
                                        returnObj.message = "Sorry, your phrase is not a palindrome";
                                    }
                                
                                    returnObj.phrase = newPhrase;
                                    return returnObj;
                                }

                                //display phrase
                                //view function
                                function displayPhrase(returnObj) {
                                    document.getElementById("alertHeader").innerHTML = returnObj.message;
                                    document.getElementById("msg").innerHTML = `Your phrase reversed is: ${returnObj.phrase}`;
                                    document.getElementById("alert").classList.remove("invisible");
                                }
                            </code>
                        </pre>
                    </div>
                    <div class="col-lg-4">
                        <p>The code is structered in one function</p>
                        <h5>getPHrase()</h5>
                        <p>This the main/ controller function of the program. It collects the phrase for that the
                            user has input. Sets the class of the “alert” element to invisible to for it to re-render if it
                            has already rendered. Then it calls the renderPhrase function and passes it the phrase it collected 
                            from the user. After the renderPhrase has returned the object of the rendered phrase it 
                            calls the displayPhrase function and passes it the returned object.</p>
                        <h5>renderPhrase()</h5>
                        <p>This the logic function of the program. It converts the passed in phrase to all lower case and uses a regex to remove any spaces or special characters.  After the phrase is converted
                            it iterates through the phrase from the end to the start and adds each character to the
                            newPhrase variable. Finally it compares newPhrase to the converted phrase to see if the are
                            the same. Depending on the result it assigns the corresponding display message to the 
                            message property of the object. Then it assigns the value of newPhrase to the phrase 
                            property of the object.</p>
                        <h5>displayPhrase()</h5>
                        <p>This is the display function of the program. It assigns the value of the message property
                            to the “alertHeader” element, the phrase property of the object to the “msg” element, and 
                            finally removes the “invisible” class from the “alert” element, causing the results to be displayed
                            to the user.</p>
                    </div>
                </div>
            </div>
        </main>
        <!-- Footer Section -->
        <footer class="footer mt-auto py-3 sticky-footer">
            <div class="container-fluid">
                <div class="row row-cols-1 row-cols-lg-3 gy-2">
                    <div class="col order-last order-lg-first text-light d-flex align-items-center">
                        <div>
                            <span class="text-muted">&copy;2022</span> Eric Shamp | ew_shamp@post.com
                        </div>
                    </div>
                    <div class="col justify-content-start d-flex align-items-center justify-content-lg-center">
                        <img src="/img/logo-white.svg" alt="Eric Shamp logo" width="100">
                    </div>
                    <div class="col justify-content-start d-flex align-items-center justify-content-lg-end">
                        <div class="row">
                            <div class="col social">
                                <a href="https://www.linkedin.com/in/EW-Shamp" target="_blank"><i class="fa fa-linkedin fa-2x" aria-hidden="true"></class=></i></a>
                            </div>
                            <div class="col social">
                                <a href="https://www.github.com/EW-Shamp" target="_blank"><i class="fa fa-github fa-2x" aria-hidden="true"></i></i></i></a>
                            </div>
                            <div class="col social">
                                <a href="https://www.twitter.com/EW_Shamp" target="_blank"><i class="fa fa-twitter fa-2x" aria-hidden="true"></i></i></i></a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </footer>
    
        <!-- Bootstrap JS -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-/bQdsTh/da6pkI1MST/rWKFNjaCP5gBSY4sEBT38Q/9RBh9AH40zEOg7Hlq2THRZ" crossorigin="anonymous">
        </script>

        <!-- Prism JS -->
        <script src="/js/prism.js"></script>
        <script>
            Prism.plugins.NormalizeWhitespace.setDefaults({
                'remove-trailing': true,
                'remove-indent': true,
                'left-trim': true,
                'right-trim': true
            })
        </script>
    </body>
</html>